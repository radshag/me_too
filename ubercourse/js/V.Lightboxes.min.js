/**
 * V.Lightboxes.js
 * Ubercourse v0.15.0
 * 
 * VinciWorks
 * https://vinciworks.com/
 * Copyright (c) 2017-2018 VinciWorks, All Rights Reserved.
 * 
 * Updated: Tue, 06 Mar 2018 14:03:46 GMT
 * 
 */;(function initLightboxes(V){var defaults={close:function close(){closeOpenLightbox();},cancel:function cancel(){closeOpenLightbox();},next:function next(){closeOpenLightbox();V.Navigation.next();}};V.Lightboxes={open:openLightbox,close:defaults.close,next:defaults.next,cancel:defaults.cancel};var closeOpenLightbox=noOpenLightboxes;function openLightbox(id,options){var lightbox=document.getElementById(id);options=options||{};closeOpenLightbox=closeThisLightbox;['close','next','cancel'].forEach(function(fn){V.Lightboxes[fn]=typeof options[fn]==='function'?function(){options[fn]();defaults[fn]();}:defaults[fn];});if(!lightbox){console.error('No lightbox exists with id "'+id+'".');return false;}var audio=lightbox.getAttribute('data-audio');var lightboxBox=findChild('.lightbox__box');var lightboxOverlay=findChild('.lightbox__overlay');findChild('.lightbox__close-button').onclick=V.Lightboxes.close;if(lightbox.getAttribute('data-is-shown-once')){if(V.SCORM.getViewed(id)){return false;}else{V.SCORM.setViewed(id);}}V.Navigation.lock();V.Navigation.closePeripherals();V.Audio.stop();if(audio){V.Audio.play(audio);}document.body.classList.add('-is-overlaid');TweenLite.fromTo(lightboxOverlay,0.4,{autoAlpha:0},{autoAlpha:1,ease:Power0.easeNone});TweenLite.fromTo(lightbox,0.2,{autoAlpha:0},{autoAlpha:1,display:'flex',overwrite:'all',ease:Power0.easeNone});TweenLite.fromTo(lightboxBox,0.6,{autoAlpha:1,y:'20%'},{autoAlpha:1,y:'0%',display:'block',overwrite:'all',ease:Power2.easeOut});if(_.hasClass(lightbox,'-has-close-button')){addCloseOnClick('.lightbox__overlay');}document.addEventListener('keydown',lightboxKeydown);function lightboxKeydown(event){if(event.keyCode==13){clickHighestPriorityButton();}if(event.keyCode==32){if(_.isUserTyping(event)){return false;}clickHighestPriorityButton();event.stopPropagation();event.preventDefault();}if(event.keyCode==27&&_.hasClass(lightbox,'-has-close-button')){closeThisLightbox();}}function clickHighestPriorityButton(){if(findChild('.lightbox__button--next')){findChild('.lightbox__button--next').click();}else if(findChild('.lightbox__button--close')){findChild('.lightbox__button--close').click();}else if(findChild('.lightbox__button')){findChild('.lightbox__button').click();}}function closeThisLightbox(){V.Navigation.unlock();if(audio){V.Audio.stop(2);}document.body.classList.remove('-is-overlaid');TweenLite.to(lightbox,0.2,{autoAlpha:0,display:'none',overwrite:'all'});document.removeEventListener('keydown',lightboxKeydown);closeOpenLightbox=noOpenLightboxes;}function findChild(selector){return lightbox.querySelector(selector);}function addCloseOnClick(selector){var el=lightbox.querySelector(selector);if(el){el.addEventListener('click',closeThisLightbox);}}function removeCloseOnClick(selector){var el=lightbox.querySelector(selector);if(el){el.removeEventListener('click',closeThisLightbox);}}}function noOpenLightboxes(){console.warn('No open lightboxes.');}})(window.V);
//# sourceMappingURL=maps/V.Lightboxes.min.js.map
