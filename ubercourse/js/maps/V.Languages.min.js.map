{"version":3,"sources":["V.Languages.js"],"names":["initLanguages","V","Languages","init","initLanguageWidget","onSet","a","Localize","e","t","length","window","languages","on","currentLanguage","getLanguage","Audio","disable","enable","initialize","key","Project","config","localizeKey","rememberLanguage","showLanguageRules","i","fragment","document","createElement","innerHTML","head","appendChild","firstElementChild"],"mappings":";;;;;;;;;;GAAA,CAAC,CAAC,QAASA,cAAT,CAAuBC,CAAvB,CAA0B,CAC1BA,EAAEC,SAAF,CAAc,CACZC,KAAMC,kBADM,CAEZC,MAAO,gBAAM,CAAE,CAFH,CAAd,CAMA,CAAC,SAASC,CAAT,CAAW,CAAC,GAAG,CAACA,EAAEC,QAAN,CAAe,CAACD,EAAEC,QAAF,CAAW,EAAX,CAAc,IAAI,GAAIC,GAAE,CAAC,WAAD,CAAa,aAAb,CAA2B,QAA3B,CAAoC,YAApC,CAAiD,eAAjD,CAAiE,aAAjE,CAA+E,aAA/E,CAA6F,gBAA7F,CAA8G,uBAA9G,CAAsI,iBAAtI,CAAwJ,WAAxJ,CAAoK,UAApK,CAA+K,IAA/K,CAAoL,KAApL,CAAN,CAAiMC,EAAE,CAAvM,CAAyMA,EAAED,EAAEE,MAA7M,CAAoND,GAApN,EAAwNH,EAAEC,QAAF,CAAWC,EAAEC,CAAF,CAAX,EAAiB,UAAU,CAAE,CAA7B,CAAxN,CAAsP,CAAC,CAAjS,CAAkSE,MAAlS,CAAD,CASA,QAASP,mBAAT,CAA4BQ,SAA5B,CAAuC,CACrCL,SAASM,EAAT,CAAY,aAAZ,CAA2B,UAAW,CACpC,GAAIC,iBAAkBP,SAASQ,WAAT,IAA0B,IAAhD,CAEA,GAAID,kBAAoB,IAAxB,CAA8B,CAC5Bb,EAAEe,KAAF,CAAQC,OAAR,GACD,CAFD,IAEO,CACLhB,EAAEe,KAAF,CAAQE,MAAR,GACD,CAEDjB,EAAEC,SAAF,CAAYG,KAAZ,CAAkBS,eAAlB,EACD,CAVD,EAYAP,SAASY,UAAT,CAAoB,CAACC,IAAKnB,EAAEoB,OAAF,CAAUC,MAAV,CAAiBC,WAAvB,CAAoCC,iBAAkB,IAAtD,CAApB,EACA,GAAIC,mBAAoB,EAAxB,CAEA,GAAIb,SAAJ,CAAe,CACb,IAAKc,EAAE,CAAP,CAAUA,EAAId,UAAUF,MAAxB,CAAgCgB,GAAhC,CAAqC,CACnCD,oEACqCb,UAAUc,CAAV,CADrC,gDAGD,CAED,GAAMC,UAAWC,SAASC,aAAT,CAAuB,KAAvB,CAAjB,CAEAF,SAASG,SAAT,4GAGML,iBAHN,+BAOAG,SAASG,IAAT,CAAcC,WAAd,CAA0BL,SAASM,iBAAnC,EACD,CACF,EACF,CAnDA,EAmDEtB,OAAOV,CAnDT","file":"../V.Languages.min.js","sourcesContent":[";(function initLanguages(V) {\r\n  V.Languages = {\r\n    init: initLanguageWidget,\r\n    onSet: () => {}\r\n  };\r\n\r\n  // define empty functions if Localize.js failed\r\n  !function(a){if(!a.Localize){a.Localize={};for(var e=[\"translate\",\"untranslate\",\"phrase\",\"initialize\",\"translatePage\",\"setLanguage\",\"getLanguage\",\"detectLanguage\",\"getAvailableLanguages\",\"untranslatePage\",\"bootstrap\",\"prefetch\",\"on\",\"off\"],t=0;t<e.length;t++)a.Localize[e[t]]=function(){}}}(window); \r\n\r\n  /**\r\n   * Initializes the Localize.js widget, hides all languages except\r\n   * for those passed in the `languages` array, and adds a listener \r\n   * for `Localize.setLanguage`.\r\n   * \r\n   * @param  {array} languages - Langauges to show in the widget\r\n   */\r\n  function initLanguageWidget(languages) {\r\n    Localize.on('setLanguage', function() {\r\n      var currentLanguage = Localize.getLanguage() || 'en';\r\n\r\n      if (currentLanguage !== 'en') {\r\n        V.Audio.disable();\r\n      } else {\r\n        V.Audio.enable();\r\n      }\r\n\r\n      V.Languages.onSet(currentLanguage);\r\n    });\r\n\r\n    Localize.initialize({key: V.Project.config.localizeKey, rememberLanguage: true});\r\n    var showLanguageRules = '';\r\n\r\n    if (languages) {\r\n      for (i=0; i < languages.length; i++) {\r\n        showLanguageRules += `\r\n          [onclick^=\"Localize.setLanguage('${languages[i]}')\"] {display: block !important;}\r\n        `;\r\n      }\r\n\r\n      const fragment = document.createElement('div');\r\n\r\n      fragment.innerHTML = `\r\n        <style>\r\n          [onclick^=\"Localize.setLanguage\"] {display: none !important;}\r\n          ${showLanguageRules} \r\n        </style>\r\n      `;\r\n      \r\n      document.head.appendChild(fragment.firstElementChild);\r\n    }\r\n  };\r\n})(window.V);\r\n"]}