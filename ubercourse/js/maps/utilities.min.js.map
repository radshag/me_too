{"version":3,"sources":["utilities.js"],"names":["window","_","isUserTyping","event","type","indexOf","target","tagName","toLowerCase","throttle","func","wait","options","context","args","result","timeout","previous","later","leading","Date","now","apply","remaining","arguments","clearTimeout","trailing","setTimeout","debounce","immediate","callNow","addOnResize","name","fn","console","error","isResizeEventListener","addEventListener","removeOnResize","removeEventListener","hasClass","el","className","RegExp","test","nextByClass","nextElementSibling","prevByClass","previousElementSibling","hideAllByClass","exception","els","document","getElementsByClassName","i","len","length","isSameNode","style","display","matchesMedia","str","matchMedia","matches","getRemToPx","rem","parseFloat","getComputedStyle","documetElement","fontSize","e","div","createElement","cssText","body","appendChild","offsetWidth","removeChild","forEach","selector","elements","querySelectorAll","iMax","call"],"mappings":"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","file":"../utilities.min.js","sourcesContent":["/**\r\n * Saves some useful functions under the `_` namespace.\r\n */\r\n\r\n!function () {\r\n  window._ = window._ || {};\r\n  const _ = window._;\r\n\r\n  _.isUserTyping = isUserTyping;\r\n\r\n  /**\r\n   * Returns true if the event target is an input or textarea.\r\n   */\r\n  function isUserTyping(event) {\r\n    return (\r\n      event.type.indexOf('key') !== 1 \r\n      && ['input','textarea'].indexOf(event.target.tagName.toLowerCase()) !== -1\r\n    );\r\n  }\r\n  \r\n  _.throttle = throttle;\r\n\r\n  /**\r\n   * Throttles a function so it may only be called once per\r\n   * interval. Disable leading or trailing call with `{leading: false}`\r\n   * or `{trailing: false}`. From https://stackoverflow.com/a/27078401/\r\n   *\r\n   * @param  {function} func  - The function to throttle.\r\n   * @param  {number} wait    - The wait before next function call.\r\n   * @param  {object} options - Disable leading or trailing call\r\n   * @return {function}       - The throttled function.\r\n   */\r\n  function throttle(func, wait, options) {\r\n    var context, args, result;\r\n    var timeout = null;\r\n    var previous = 0;\r\n    if (!options) {options = {};}\r\n    var later = function () {\r\n      previous = options.leading === false ? 0 : Date.now();\r\n      timeout = null;\r\n      result = func.apply(context, args);\r\n      if (!timeout) {context = args = null;}\r\n    };\r\n    return function () {\r\n      var now = Date.now();\r\n      if (!previous && options.leading === false) {previous = now;}\r\n      var remaining = wait - (now - previous);\r\n      context = this;\r\n      args = arguments;\r\n      if (remaining <= 0 || remaining > wait) {\r\n        if (timeout) {\r\n          clearTimeout(timeout);\r\n          timeout = null;\r\n        }\r\n        previous = now;\r\n        result = func.apply(context, args);\r\n        if (!timeout) {context = args = null;}\r\n      } else if (!timeout && options.trailing !== false) {\r\n        timeout = setTimeout(later, remaining);\r\n      }\r\n      return result;\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Debounces a function so that if it is called in rapid succession,\r\n   * it only executes after a certain wait after the last call.\r\n   * Taken from https://davidwalsh.name/javascript-debounce-function\r\n   *\r\n   * @param  {function} func - The function to debounce.\r\n   * @param  {number} wait - How long to wait before calling `func`.\r\n   * @param  {boolean} immediate - Call `func` before the first wait.\r\n   * @return {function} - The debounced function.\r\n   */\r\n  _.debounce = debounce;\r\n\r\n  function debounce(func, wait, immediate) {\r\n    var timeout;\r\n    return function () {\r\n      var context = this, args = arguments;\r\n      var later = function () {\r\n        timeout = null;\r\n        if (!immediate) {\r\n          func.apply(context, args);\r\n        }\r\n      };\r\n      var callNow = immediate && !timeout;\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(later, wait);\r\n      if (callNow) {\r\n        func.apply(context, args);\r\n      }\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Adds an event listener to window resize event, with a given function\r\n   * with a given name. The debounced function is stored in the `_`\r\n   * namespace, so the listener can be removed later with this statement:\r\n   * `window.removeEventListener('resize', _[name]);`\r\n   *\r\n   * @param  {string}    name - Name to use for the listener.\r\n   * @param  {function}  fn   - The EventListener function.\r\n   * @param  {number}    wait - The debounce timeout in milliseconds.\r\n   */\r\n  _.addOnResize = function addOnResize(name, fn, wait) {\r\n    // validate inputs\r\n    if (typeof name !== 'string') {\r\n      console.error('_.addResize parameter `name` must be a string.');\r\n      return false;\r\n    }\r\n\r\n    if (typeof fn !== 'function') {\r\n      console.error('_.addResize parameter `fn` must be a function.');\r\n      return false;\r\n    }\r\n\r\n\r\n    // tag the name for privacy\r\n    name += ' resize event listener';\r\n\r\n    // debounce it if a wait is defined\r\n    wait = wait || 0;\r\n    _[name] = wait > 0 ? debounce(fn, wait) : fn;\r\n\r\n    // for validation on removal\r\n    _[name].isResizeEventListener = true;\r\n\r\n    // add the listener\r\n    window.addEventListener('resize', _[name]);\r\n\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Removes a resize event listener created with `_.addOnResize`.\r\n   * @param  {string} name - The listener to remove.\r\n   */\r\n  _.removeOnResize = function removeOnResize(name) {\r\n    // get the private name\r\n    name += ' resize event listener';\r\n\r\n    // validation\r\n    if (!_[name].isResizeEventListener) {\r\n      console.error('_[' + name + '] is not a resize event listener.');\r\n      return false;\r\n    }\r\n\r\n    // removal\r\n    window.removeEventListener('resize', _[name]);\r\n\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Tests if a givenelement has a given class.\r\n   *\r\n   * @param  {element}  el - The element.\r\n   * @param  {string}   className - The class.\r\n   * @return {Boolean}  - Does the element have the class?\r\n   */\r\n  _.hasClass = hasClass;\r\n\r\n  function hasClass(el, className) {\r\n    return new RegExp('(\\\\s|^)' + className + '(\\\\s|$)').test(el.className);\r\n  }\r\n\r\n  /**\r\n   * Gets the next sibling of a given element that has a given class.\r\n   *\r\n   * @param  {element} el  - The element.\r\n   * @param  {string}  className - The class.\r\n   * @return {element} - The sibling with given class, or `null`.\r\n   */\r\n  _.nextByClass = function nextByClass(el, className) {\r\n    while (el = el.nextElementSibling) {\r\n      if (hasClass(el, className)) {\r\n        return el;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Gets the previous sibling of a given element that has a given class.\r\n   *\r\n   * @param  {element} el  - The element.\r\n   * @param  {string}  className - The class.\r\n   * @return {element} - The sibling with given class, or `null`.\r\n   */\r\n  _.prevByClass = function prevByClass(el, className) {\r\n    while (el = el.previousElementSibling) {\r\n      if (hasClass(el, className)) {\r\n        return el;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Sets `display:none` on all elements with a given class.\r\n   * Skips an element passed as the option argument `excpetion`.\r\n   *\r\n   * @param  {string} className - The class to be hidden.\r\n   * @param  {element} exception - An element that should not be hidden.\r\n   */\r\n  _.hideAllByClass = function hideAllByClass(className, exception) {\r\n    var els = document.getElementsByClassName(className);\r\n\r\n    if (exception) {\r\n      for (var i = 0, len = els.length; i < len; i++) {\r\n        if (!els[i].isSameNode(exception)) {\r\n          els[i].style.display = 'none';\r\n        }\r\n      }\r\n    } else {\r\n      for (var i = 0, len = els.length; i < len; i++) {\r\n        els[i].style.display = 'none';\r\n      }\r\n    }\r\n  };\r\n\r\n  _.matchesMedia = function matchesMedia(str) {\r\n    return !!window.matchMedia(str).matches;\r\n  };\r\n\r\n  /**\r\n   * Gets the height of `1rem` in pixels.\r\n   * @return {number} - The height.\r\n   */\r\n  _.getRemToPx = function getRemToPx() {\r\n    var rem;\r\n\r\n    try {\r\n      // get root element's computed style, https://stackoverflow.com/a/42061290/\r\n      rem = parseFloat(getComputedStyle(document.documetElement).fontSize);\r\n    } catch (e) {\r\n      // create a div with `width:1rem` and get its `offsetWidth`\r\n      div = document.createElement('div');\r\n      div.style.cssText = 'position:absolute;height:1rem;width:1rem;visibility:hidden;';\r\n      document.body.appendChild(div);\r\n      rem = div.offsetWidth;\r\n      document.body.removeChild(div);\r\n    }\r\n\r\n    // backup value of 16\r\n    if (!rem) {\r\n      rem = 16;\r\n    }\r\n\r\n    return rem;\r\n  };\r\n\r\n  /**\r\n   * Loops through elements matching a selector and calls a function\r\n   * for each element, with the element as `this` and its index passed\r\n   * as its one argument.\r\n   *\r\n   * @param  {string}   selector - Selects the elements.\r\n   * @param  {Function} fn       - The function.\r\n   */\r\n  _.forEach = function forEach(selector, fn) {\r\n    var elements = document.querySelectorAll(selector);\r\n\r\n    for (var i = 0, iMax = elements.length; i < iMax; i++) {\r\n      fn.call(elements[i], i);\r\n    }\r\n  };\r\n}();\r\n"]}